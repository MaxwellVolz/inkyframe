!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/packs/",i(i.s=782)}({16:function(e,t,i){"use strict";i(51);var n=i(7),r=i(4);class c{constructor({units:e,el:t,precision:i=5,size:r=38}){this.units=e,t?(this.el=t,this.precision=parseInt(t.dataset.precision),this.svg=t.querySelector("svg"),this.circle=t.querySelector("circle"),this.arrow=new n.a(t.querySelector(".wind-icon__arrow")),this.textEl=t.querySelector(".wind-icon__val"),this.setSpeed(t.dataset.speed),this.renderSpeed()):(this.precision=i,this.create({size:r})),e.onChange(()=>this.renderSpeed())}setSpeed(e){const t=parseFloat(e);this.speed=Number.isNaN(t)?null:t}renderSpeed(){this.textEl.textContent=null!==this.speed?this.units.formatSpeed(this.speed,{precision:this.precision}):"-"}create({size:e}){this.el=document.createElement("div"),this.el.classList.add("wind-icon");const t=document.createElement("svg");t.setAttribute("viewBox",`${-e/2} ${-e/2} ${e} ${e}`),t.setAttribute("fill","rgb(0, 0, 0)"),t.setAttribute("class","wind-icon__svg"),this.svg=t,this.el.appendChild(t),this.circle=Object(r.a)("circle"),this.circle.setAttribute("cx",0),this.circle.setAttribute("cy",0),t.appendChild(this.circle),this.arrow=new n.a,this.arrow.el.setAttribute("class","wind-icon__arrow"),t.appendChild(this.arrow.el),this.textEl=Object(r.a)("text"),this.textEl.setAttribute("class","wind-icon__val"),this.textEl.setAttribute("x",0),this.textEl.setAttribute("y",5),this.textEl.setAttribute("text-anchor","middle"),t.appendChild(this.textEl)}update({speed:e,angle:t}){const i=parseFloat(e),n=Number.isNaN(i)||i<=100?10.5:12.5,r={arrowheadHeight:6,connectorThickness:4,radius:n,angle:t};this.circle.setAttribute("r",n),void 0!==t&&(i<=100?(r.connectorHeight=4,r.arrowheadThickness=14):(r.connectorHeight=2.5,r.arrowheadThickness=18)),this.arrow.update(r),void 0!==e&&(this.setSpeed(e),this.renderSpeed(),this.svg.setAttribute("fill",this.circleColor()),this.textEl.setAttribute("fill",this.textColor()))}textColor(){return!this.speed||this.speed<20?"rgb(255, 255, 255)":this.speed<40?"rgb(0, 255, 0)":this.speed<60?"rgb(255, 255, 0)":this.speed<80?"rgb(255, 180, 0)":this.speed<100?"rgb(255, 0, 0)":"rgb(255, 255, 255)"}circleColor(){return!this.speed||this.speed<100?"rgb(0, 0, 0)":"rgb(255, 0, 0)"}}i(34);const s=[];t.a=function(e,t){return[...e.querySelectorAll(".wind-icon")].map(e=>function(e,t){let i=s.find(t=>t[0]===e);return i||(i=[e,new c({el:e,units:t})],s.push(i)),i[1]}(e,t))}},34:function(e,t,i){var n={"./E@2x.png":35,"./ENE@2x.png":36,"./ESE@2x.png":37,"./N@2x.png":38,"./NE@2x.png":39,"./NNE@2x.png":40,"./NNW@2x.png":41,"./NW@2x.png":42,"./S@2x.png":43,"./SE@2x.png":44,"./SSE@2x.png":45,"./SSW@2x.png":46,"./SW@2x.png":47,"./W@2x.png":48,"./WNW@2x.png":49,"./WSW@2x.png":50};function r(e){var t=c(e);return i(t)}function c(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=c,e.exports=r,r.id=34},35:function(e,t,i){e.exports=i.p+"media/components/wind-icon/static/E@2x-fb4a2603d465049a07b21224b9f9a64e.png"},36:function(e,t,i){e.exports=i.p+"media/components/wind-icon/static/ENE@2x-612bcffa4ab5e8f0f0c4570ba1a04515.png"},37:function(e,t,i){e.exports=i.p+"media/components/wind-icon/static/ESE@2x-5c9df52dd77b1b224f938cd7ee6f599e.png"},38:function(e,t,i){e.exports=i.p+"media/components/wind-icon/static/N@2x-1a61a9d3f74d653a85c2b449862baecb.png"},39:function(e,t,i){e.exports=i.p+"media/components/wind-icon/static/NE@2x-7b82d1c027a65bf3451b7bc39910939c.png"},4:function(e,t,i){"use strict";function n(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}i.d(t,"a",(function(){return n}))},40:function(e,t,i){e.exports=i.p+"media/components/wind-icon/static/NNE@2x-a6022522e69f81abdefa6bb0b0aa02ee.png"},41:function(e,t,i){e.exports=i.p+"media/components/wind-icon/static/NNW@2x-09c22d8eff42900f1a4e3fe1a645c03b.png"},42:function(e,t,i){e.exports=i.p+"media/components/wind-icon/static/NW@2x-1c7de7ae36367506e6209d52252e5bf7.png"},43:function(e,t,i){e.exports=i.p+"media/components/wind-icon/static/S@2x-a8051f4d38ef0158fe99dd2241ec6d83.png"},44:function(e,t,i){e.exports=i.p+"media/components/wind-icon/static/SE@2x-b405974a38d9a025f39b60df1d800210.png"},45:function(e,t,i){e.exports=i.p+"media/components/wind-icon/static/SSE@2x-0d21334757623054c248d0ab2e0744c1.png"},46:function(e,t,i){e.exports=i.p+"media/components/wind-icon/static/SSW@2x-d647e258e83bf941584573a2a0e3dcc3.png"},47:function(e,t,i){e.exports=i.p+"media/components/wind-icon/static/SW@2x-44c06bb4c6689128be9dfcd3ba281ef6.png"},48:function(e,t,i){e.exports=i.p+"media/components/wind-icon/static/W@2x-dda6db560f4461c4a25eb07dc8867a74.png"},49:function(e,t,i){e.exports=i.p+"media/components/wind-icon/static/WNW@2x-a6ce4c2f0c67217e1f360aab2b3a4eba.png"},5:function(e,t,i){"use strict";function n(e){return Math.round(e)}function r(e,t){return Number(`${n(`${e}e${t}`)}e-${t}`)}function c(e,t){return n(e/t)*t}function s(e){return.6214*e}function a(e){return.53996*e}function o(e){return 3.281*e}function u(e){return 1.8*e+32}function l(e){return.03937*e}var d=class{constructor(){this.current={temperature:"Metric",length:"Metric",speed:"Metric"},this.listeners=[]}change(e){this.current={...this.current,...e},this.listeners.forEach(t=>t(e))}onChange(e){this.listeners.push(e)}formatLength(e,{precision:t=2,altUnits:i=!1,withUnits:n=!1}={}){let c=e,s=this.current.length;return i&&(s="Imperial"===s?"Metric":"Imperial"),"Imperial"===s&&(c=o(e)),c=r(c,t),n?`${c}${this.formatLengthUnits({altUnits:i})}`:c}formatLengthUnits({altUnits:e=!1}={}){let t=this.current.length;return e&&(t="Imperial"===t?"Metric":"Imperial"),"Imperial"===t?"ft":"m"}formatSnow(e,{precision:t=1,precisionLimit:i=1.8,altUnits:n=!1,withUnits:c=!1}={}){let s=e,a=this.current.length;return n&&(a="Imperial"===a?"Metric":"Imperial"),"Imperial"===a&&(s=l(10*e)),s=r(s,e>i?0:t),c?`${s}${this.formatLengthUnits({altUnits:n})}`:s}formatSnowUnits({altUnits:e=!1}={}){let t=this.current.length;return e&&(t="Imperial"===t?"Metric":"Imperial"),"Imperial"===t?"in":"cm"}formatSwell(e){let t=e;return"Imperial"===this.current.length&&(t=o(e),t<10&&(t=c(t,.5))),t>=10?Math.round(t):r(t,1)}formatSpeed(e,{withUnits:t=!1,precision:i=5}={}){let n=e;const r=this.current.speed;return"Imperial"===r?n=s(e):"Knot"===r&&(n=a(e)),n=c(n,i),t?`${n}${this.formatSpeedUnits()}`:n}formatSpeedUnits(){const e=this.current.speed;return"Imperial"===e?"mph":"Knot"===e?"KN":"km/h"}formatTemp(e,{withUnits:t=!1,precision:i=0}={}){let n="Imperial"===this.current.temperature?u(e):e;return n=r(n,i),t?`${n}${this.formatTempUnits()}`:n}formatTempUnits(){return"Imperial"===this.current.temperature?"\xb0F":"\xb0C"}};const p=window.Units||new d;window.Units=p;t.a=p},50:function(e,t,i){e.exports=i.p+"media/components/wind-icon/static/WSW@2x-99aa4fb59cea19521ca568fa9204f284.png"},51:function(e,t,i){},55:function(e,t,i){"use strict";function n(e){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}i.d(t,"a",(function(){return n}))},7:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(4);class r{constructor(e){e?(this.el=e,this.polygon=e.querySelector("polygon"),this.connector=e.querySelector("rect")):(this.el=Object(n.a)("g"),this.polygon=Object(n.a)("polygon"),this.el.appendChild(this.polygon),this.connector=Object(n.a)("rect"),this.el.appendChild(this.connector))}update({angle:e,radius:t=10.5,arrowheadHeight:i=6,arrowheadThickness:n=14,connectorHeight:r=4,connectorThickness:c=4}){const s=parseInt(e,10);if(Number.isNaN(s))return;const a=-(t+r-1),o=a,u=a,l=o-i,d=-n/2,p=n/2,h=-c/2;this.el.setAttribute("transform",`rotate(${e})`),this.polygon.setAttribute("points",`${d} ${o} 0 ${l} ${p} ${u}`),this.connector.setAttribute("x",h),this.connector.setAttribute("y",a),this.connector.setAttribute("width",c),this.connector.setAttribute("height",r)}}},782:function(e,t,i){"use strict";i.r(t);var n,r,c=i(16),s=i(55),a=i(5);i(783);function o(e,t){var i=n;if(e==r&&!t)return!0;var c,s,o,u,l=document.getElementsByTagName?document.getElementsByTagName("span"):new Array;document.querySelectorAll("img.flscale, img.js-flgraph").forEach((function(t,i){t.src="Metric"==e?t.src.replace("imperial","metric"):t.src.replace("metric","imperial")}));for(var d=0;d<l.length;d++){var p;if(-1!=(p=l[d].className).indexOf(" ")&&(p=p.substring(0,p.indexOf(" "))),"Metric"==p)i="Metric";else if("Imperial"==p)i="Imperial";else if("Original"==p)i=n;else if("height"==p||"heightfl"==p||"heighttide"==p||"heightu"==p||"temp"==p||"tempu"==p||"snow"==p||"snowu"==p||"wind"==p||"windp"==p||"windu"==p||"rain"==p||"rainu"==p||"dist"==p||"distu"==p||"phrase"==p)if(e==i)t||""!=l[d].innerHTML&&(l[d].innerHTML=l[d].backup);else if(""==l[d].innerHTML);else{if(o=!1,"undefined"==typeof l[d].backup?(l[d].backup=l[d].innerHTML,c=l[d].innerHTML):c=l[d].backup,"Metric"!=i)switch(p){case"temp":isNaN(parseInt(c))||(s=Math.round((c-32)/1.8),o=!0);break;case"tempu":s="C",o=!0}if("Metric"==i)switch(p){case"temp":isNaN(c)||(s=Math.round(1.8*c+32),o=!0);break;case"tempu":s="F",o=!0}if("Metric"==i)switch(p){case"height":s=Math.round(3.281*c),o=!0;break;case"dist":s=Math.round(c/1.609*10)/10,o=!0;break;case"heightfl":s=100*Math.round(3.281*c/100),o=!0;break;case"heighttide":var h=c.split(" "),f=[];for(_i=0,_len=h.length;_i<_len;_i++)h[_i]==parseFloat(h[_i])?(f.push(Math.round(3.281*h[_i]*100)/100),o=!0):f.push(h[_i]);s=f.join(" ");break;case"heightu":s="ft",o=!0;break;case"distu":s="miles",o=!0;break;case"snow":isNaN(c)||(s=(.3937*c).toFixed(1),o=!0);break;case"wind":isNaN(c)||(s=5*Math.round(.6214*c/5),o=!0);break;case"windp":isNaN(c)||(s=Math.round(.6214*c),o=!0);break;case"windu":s="mph",o=!0;break;case"rain":isNaN(c)||(s=(.03937*c).toFixed(1),o=!0);break;case"rainu":case"snowu":s="in",o=!0}if("Metric"!=i)switch(p){case"height":s=Math.round(c/3.281),o=!0;break;case"dist":s=Math.round(1.609*c),o=!0;break;case"heightfl":s=50*Math.round(c/3.281/50),o=!0;break;case"heighttide":c==parseFloat(c)&&(s=Math.round(c/3.281*100)/100,o=!0);break;case"heightu":s="m",o=!0;break;case"distu":s="km",o=!0;break;case"snow":isNaN(c)||(s=(c/.3937).toFixed(1),o=!0);break;case"snowu":s="cm",o=!0;break;case"wind":isNaN(c)||(s=5*Math.round(c/.6214/5),o=!0);break;case"windp":isNaN(c)||(s=Math.round(c/.6214),o=!0);break;case"windu":s="kph",o=!0;break;case"rain":isNaN(c)||(s=Math.round(c/.03937),o=!0);break;case"rainu":s="mm",o=!0}if("phrase"==p){if("undefined"==typeof l[d].backup?(l[d].backup=l[d].innerHTML,c=l[d].innerHTML):c=l[d].backup,s=c,"Metric"!=i)for(g=(m=/([-\d.]+)(.|&deg;)F/g).exec(c);null!=g;)u=Math.round((g[1]-32)/1.8),isNaN(u)||(s=s.replace(g[0],u+"&deg;C"),o=!0),g=m.exec(c);if("Metric"==i)for(g=(m=/([-\d.]+)(.|&deg;)C/g).exec(c);null!=g;)u=Math.round(32+1.8*g[1]),isNaN(u)||(s=s.replace(g[0],u+"&deg;F"),o=!0),g=m.exec(c);if("Metric"==i)for(g=(m=/([-\d.]+)mm/g).exec(c);null!=g;)u=(.03937*g[1]).toFixed(1),s=s.replace(g[0],u+"in"),o=!0,g=m.exec(c);if("Metric"==i)for(g=(m=/([-\d.]+) km\/h/g).exec(c);null!=g;)u=Math.round(g[1]/1.609),s=s.replace(g[0],u+" mph"),o=!0,g=m.exec(c);if("Metric"!=i)for(g=(m=/([-\d.]+) mph/g).exec(c);null!=g;)u=Math.round(1.609*g[1]),s=s.replace(g[0],u+" km/h"),o=!0,g=m.exec(c);if("Metric"==i)for(g=(m=/([-\d.]+) km/g).exec(c);null!=g;)u=Math.round(g[1]/1.609),s=s.replace(g[0],u+" miles"),o=!0,g=m.exec(c);if("Metric"!=i)for(g=(m=/([-\d.]+) miles/g).exec(c);null!=g;)u=Math.round(1.609*g[1]),s=s.replace(g[0],u+" km"),o=!0,g=m.exec(c);if("Metric"==i)for(g=(m=/([-\d.]+) m/g).exec(c);null!=g;)u=Math.round(3.281*g[1]),s=s.replace(g[0],u+" ft"),o=!0,g=m.exec(c);if("Metric"==i)for(g=(m=/([-\d.]+) ft/g).exec(c);null!=g;)u=Math.round(g[1]/3.281),s=s.replace(g[0],u+" m"),o=!0,g=m.exec(c);if("Metric"==i)for(g=(m=/([-\d.]+)cm/g).exec(c);null!=g;)u=(.3937*g[1]).toFixed(1),s=s.replace(g[0],u+"in"),o=!0,g=m.exec(c);if("Metric"!=i)for(g=(m=/([-\d.]+)in/g).exec(c);null!=g;)u=Math.round(g[1]/.03937),s=s.replace(g[0],u+"mm"),o=!0,g=m.exec(c)}o&&"-"!=l[d].innerHTML&&(l[d].innerHTML=s)}}var m,g,b=document.getElementsByTagName?document.getElementsByTagName("img"):new Array,x=/(.*swellicons\/swell\.[A-Z-]+)\.(\d+)\.(imperial|metric)\.([\d-]+)\.gif/;for(d=0;d<b.length;d++)"swellimg"==(p=b[d].className)&&(e==i?!t&&b[d].backup&&(b[d].src=b[d].backup):(o=!1,null!=(g=(m=x).exec(b[d].src))&&("undefined"==typeof b[d].backup?b[d].backup=b[d].src:g=m.exec(b[d].backup),c=parseFloat(g[2]),"Metric"!=i&&(u=5*Math.round(c/.6214/5),b[d].src=g[1]+u+"metric.gif"),"Metric"==i&&(u=5*Math.round(3.281*c/5),b[d].src=g[1]+"."+u+".imperial."+g[4]+".gif"))));"Metric"==i&&(document.querySelectorAll(".surfscale").forEach((function(t){e==i?t.src=t.backup:(t.backup=t.src,t.src="/images/surfscale.imperial.gif")})),document.querySelectorAll(".surfbackdrop").forEach((function(t){e==i?t.src=t.backup:(t.backup=t.src,t.src="/images/surfbackdrop.imperial.gif")})),document.querySelectorAll(".surfscalebg").forEach((function(t){e==i?t.style.backgroundImage=t.backup:(t.backup=t.style.backgroundImage,t.style.backgroundImage="url(/images/surfscale.imperial.gif)")})),document.querySelectorAll(".surfbackdropbg").forEach((function(t){e==i?t.style.backgroundImage=t.backup:(t.backup=t.style.backgroundImage,t.style.backgroundImage="url(/images/surfbackdrop.imperial.gif)")}))),a.a.change({temperature:e,length:e,speed:e}),r=e}Object(s.a)((function(){n=r="Metric";var e=document.querySelector(".units_link.metric"),t=document.querySelector(".units_link.imperial");document.body.dataset.unitsImperial&&(o("Imperial"),e.classList.remove("inactive_units"),t.classList.add("inactive_units")),e.addEventListener("click",(function(i){i.preventDefault(),o("Metric"),e.classList.add("inactive_units"),t.classList.remove("inactive_units")})),t.addEventListener("click",(function(i){i.preventDefault(),o("Imperial"),e.classList.remove("inactive_units"),t.classList.add("inactive_units")})),!(!("createElementNS"in document)||!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)||(document.body.className+=" no-svg"),Object(c.a)(document,a.a)}))},783:function(e,t,i){}});
//# sourceMappingURL=widget-20ae4b56d075897451f5.js.map